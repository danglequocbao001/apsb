
<ion-header class="ion-padding">
  <ion-toolbar>
    <ion-buttons slot="start">
     <ion-icon name="chevron-back-outline" class="icon-back" routerLink="/account/user-info"></ion-icon>
    </ion-buttons>
    <ion-title class="title">
      Change Password
     </ion-title>
  </ion-toolbar>

</ion-header>

<ion-content class ="ion-padding">
  
    <form [formGroup] ="formNewPass" (ngSubmit)="onSubmit()">
    <ion-item-group class = "content__wrapper">
      <ion-label class ="content__wrapper-label">
        <ion-label class= "content__label-input">Current password </ion-label>
        <ion-label class= "content__label-valid">*</ion-label>
      </ion-label>

      <ion-item-group class="content__wrapper-input">
        <input  class="content__input"  formControlName = "currentpassword" name ="currentpassword" type="{{type1}}" >
        <button *ngIf="!showPassCurrent" type = "button" (click)="showPasswordCurrent()" class="btn-change-type">
          <ion-icon name="eye-outline" class="ion-eye"></ion-icon>
        </button>
        <button *ngIf="showPassCurrent" type="button" (click)="showPasswordCurrent()" class="btn-change-type ">
          <ion-icon name="eye-off-outline" class="icon-eye-throught"></ion-icon>
        </button>
    </ion-item-group>

      <div  [style.visibility]="checkcurrentpass ? 'visible' : 'hidden'" class="error-messages">
        {{messagecurrentpass}}
      </div>
      <ion-label class ="content__wrapper-label">
          <ion-label class= "content__label-input">New Password</ion-label>
          <ion-label class= "content__label-valid">*</ion-label>
      </ion-label>

      <ion-label  class= "content__label-input--des">Use 8 or more characters with a mix of letters, numbers, symbols.</ion-label>

      <ion-item-group class="content__wrapper-input">
        <input type="{{type2}}" class="content__input" formControlName = "newpassword" name ="newpassword" >
        <button *ngIf="!showPassNew" type = "button" (click)="showPasswordNew()" class="btn-change-type">
          <ion-icon name="eye-outline" class="ion-eye"></ion-icon>
        </button>
        <button *ngIf="showPassNew" type="button" (click)="showPasswordNew()" class="btn-change-type ">
          <ion-icon name="eye-off-outline" class="icon-eye-throught"></ion-icon>
        </button>
    </ion-item-group>
    <ion-label  [style.visibility]="checknewpass ? 'visible' : 'hidden'" class="error-messages">
      {{messagenewpass}}
    </ion-label>
    
    <ion-label *ngIf="(formNewPass.get('currentpassword').value === formNewPass.get('newpassword').value) && (formNewPass.get('newpassword').dirty || formNewPass.get('currentpassword').dirty)" >
        <ion-label class="difference">New Password must difference Old Password</ion-label>
    </ion-label>
      <ion-label class ="content__wrapper-label">
        <ion-label class= "content__label-input">Confirm Password</ion-label>
        <ion-label class= "content__label-valid">*</ion-label>
      </ion-label>
      
      <ion-item-group class="content__wrapper-input">
        <input type="{{type3}}" class="content__input" formControlName = "confirmpassword" name ="confirmpassword" >
        <button *ngIf="!showPassNewAgain" type = "button" (click)="showPasswordNewAgain()" class="btn-change-type">
          <ion-icon name="eye-outline" class="ion-eye"></ion-icon>
        </button>
        <button *ngIf="showPassNewAgain" type="button" (click)="showPasswordNewAgain()" class="btn-change-type ">
          <ion-icon name="eye-off-outline" class="icon-eye-throught"></ion-icon>
        </button>
    </ion-item-group>

    <label [style.visibility]="checkconfirmpass ? 'visible' : 'hidden'" class="error-messages">
      {{messageconfirmpass}}
    </label>

    <pre [style.visibility]="checksamepass ? 'visible' : 'hidden'" class="not-match not-match-pass">
     {{messagesampass}} 
     
     </pre>
      <ion-button class ="content__btn-change"  type="submit" >Change</ion-button>
      <!-- <ion-button class ="content__btn-change content__btn-cancel"  type="button" (click)="onCancel()">Cancel</ion-button> -->
    </ion-item-group>

  </form>   
</ion-content>
